### 安装数据库

- `yum -y install mysql mysql-server.x86_64 mysql-devel.x86_64`
- ` mysql -u root`
- `alter user 'root'@'localhost' identified by '123456';`
- ` create database campus_consumption;`
- `source /data/source.sql`

### 安装JDK

- `yum -y install java-1.8.0-openjdk`
- `yum -y install java-1.8.0-openjdk-devel.x86_64 `

### 安装tomcat

- `cd /usr/src/`
- ` tar -xvf apache-tomcat-8.5.66.tar`
- `cd /usr/src/apache-tomcat-8.5.66/bin`
- `./startup.sh `

### 开放3306、8080端口

- 此处可能需要手动去阿里云服务器控制台添加防火墙端口
- `firewall-cmd --zone=public --add-port=3306/tcp --permanent`
- `firewall-cmd --zone=public --add-port=8080/tcp --permanent`
- `systemctl restart firewalld`
- `firewall-cmd --zone=public --list-ports`

### 安装nginx

- `cd /usr/src/`
- `yum -y install gcc pcre-devel openssl openssl-devel zlib zlib-devel `
- ` tar -xvf nginx-1.20.1.tar `
- `cd nginx-1.20.1/`
- `./configure`
- ` make && make install `
- `firewall-cmd --zone=public --add-port=80/tcp --permanent`
- `systemctl restart firewalld`
- `cd /usr/local/nginx/sbin`
- `./nginx `

### 项目部署到tomcat

- `cd /usr/src/apache-tomcat-8.5.66/webapps`
- 将war包放入
- `cd /usr/src/apache-tomcat-8.5.66/bin`
- `./shutdown.sh `
- `./startup.sh `

### 配置nginx代理

- `cd /usr/local/nginx/conf`
- ` vim nginx.conf`
- 如图更改配置文件
- `cd /usr/local/nginx/sbin`
- `./nginx -s stop`
- ` ./nginx `
- 输入ip地址即可访问







